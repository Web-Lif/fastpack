import React, { Suspense } from "react";
import ReactDOM from 'react-dom'

{{#if frame}}
import Bootstrap from 'fastpack.micro/frame'
{{/if}}

{{#each routers}}
(window as any).g_routers.push({
    path: '{{this.path}}',
    component: React.lazy(() => import('../pages{{this.component}}'))
})
{{/each}}

const extRouters = [
    {{#each routers}}
    {
        path: '{{this.path}}',
        component: React.lazy(() => import('../pages{{this.component}}'))
    },
    {{/each}}
]

{{#if rootRender}}
ReactDOM.render(
    <Bootstrap routers={extRouters} />
    ,
    document.querySelector('#{{rootRender}}')
)
{{else}}
const root = document.createElement("div")
root.style.width = '100%'
root.style.height = '100%'
document.body.appendChild(root)
ReactDOM.render(
    <Bootstrap routers={extRouters} />
    ,
    root
)
{{/if}}