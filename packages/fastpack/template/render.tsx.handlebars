import React from "react";
import ReactDOM from 'react-dom'
{{#if frame}}
import Bootstrap, {routers as bootstrapRouters} from 'fastpack_micro/frame'
import { routers } from './bootstrap'
{{else}}
import Bootstrap, { routers, bootstrapRouters } from './bootstrap'
{{/if}}

(window as any).g_routers = routers.concat(bootstrapRouters)

{{#if rootRender}}
ReactDOM.render(
    <Bootstrap routers={bootstrapRouters} />
    ,
    document.querySelector('#{{rootRender}}')
)
{{else}}
if (document.querySelector('#root')) {
    ReactDOM.render(
        <Bootstrap routers={bootstrapRouters} />
        ,
        document.querySelector('#root')
    )
} else {
    const root = document.createElement("div")
    root.setAttribute('id', 'root')
    root.style.width = '100%'
    root.style.height = '100%'
    document.body.appendChild(root)
    ReactDOM.render(
        <Bootstrap routers={bootstrapRouters} />
        ,
        root
    )
}
{{/if}}